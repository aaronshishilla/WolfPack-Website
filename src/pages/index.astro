---
import BaseLayout from "@/layouts/BaseLayout.astro";
import PostCard from "@/components/PostCard.astro";
import ServiceCard from "@/components/ServiceCard.astro";
import TestimonialCard from "@/components/TestimonialCard.astro";
import { getPosts } from "@/lib/wordpress";
import type { WPPost } from "@/types/wordpress";

let recentPosts: WPPost[] = [];

try {
  const { posts } = await getPosts(3);
  recentPosts = posts;
} catch {
  // WordPress unavailable - page renders with empty state
}
---

<BaseLayout
  title="WolfPack Advising | Strategic Business Consulting"
  description="WolfPack Advising provides strategic consulting and advisory services to help your business thrive."
>
  <!-- Hero Section -->
  <section class="bg-[var(--color-brand-primary)] text-white py-20 lg:py-28">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl lg:text-6xl font-bold text-white mb-6">
        Strategic Advice.<br />Real Results.
      </h1>
      <p class="text-xl text-blue-100 max-w-2xl mx-auto mb-8">
        WolfPack Advising helps businesses grow with proven strategies and hands-on guidance.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href="/contact"
          class="inline-block bg-[var(--color-brand-accent)] text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors"
        >
          Get Started
        </a>
        <a
          href="/services"
          class="inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-[var(--color-brand-primary)] transition-colors"
        >
          Our Services
        </a>
      </div>
    </div>
  </section>

  <!-- Services Preview -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-[var(--color-brand-dark)]">How We Help</h2>
        <p class="text-gray-600 mt-3 max-w-xl mx-auto">
          From strategy to execution, we partner with you at every stage.
        </p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Static placeholders until services CPT is configured -->
        <div class="bg-white rounded-lg shadow-sm p-8 text-center">
          <div class="text-4xl mb-4">üìä</div>
          <h3 class="text-xl font-bold mb-3">Strategy Consulting</h3>
          <p class="text-gray-600">Data-driven strategies to accelerate growth and market position.</p>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-8 text-center">
          <div class="text-4xl mb-4">üöÄ</div>
          <h3 class="text-xl font-bold mb-3">Growth Advisory</h3>
          <p class="text-gray-600">Hands-on guidance to scale your operations and revenue.</p>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-8 text-center">
          <div class="text-4xl mb-4">ü§ù</div>
          <h3 class="text-xl font-bold mb-3">Operational Excellence</h3>
          <p class="text-gray-600">Optimize processes and build systems that work at scale.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Recent Blog Posts -->
  {recentPosts.length > 0 && (
    <section class="py-16 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center mb-12">
          <h2 class="text-3xl font-bold text-[var(--color-brand-dark)]">Latest Insights</h2>
          <a
            href="/blog"
            class="text-[var(--color-brand-accent)] font-semibold hover:text-[var(--color-brand-primary)] transition-colors"
          >
            View All &rarr;
          </a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          {recentPosts.map((post) => (
            <PostCard post={post} />
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-[var(--color-brand-dark)] mb-4">
        Ready to Transform Your Business?
      </h2>
      <p class="text-gray-600 mb-8 max-w-xl mx-auto">
        Schedule a free consultation to discuss your challenges and goals.
      </p>
      <a
        href="/contact"
        class="inline-block bg-[var(--color-brand-accent)] text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors"
      >
        Schedule a Call
      </a>
    </div>
  </section>
</BaseLayout>
